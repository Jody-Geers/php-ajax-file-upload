{"filter":false,"title":"index.php","tooltip":"/modules/file-upload/index.php","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":59,"column":0},"end":{"row":59,"column":2}},"text":"?>"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":59,"column":0}},"nl":"\r\n","lines":["<?php","","class Main {","\t","\t/**","\t * Application.","\t * @return {Object} main","\t * @access public","\t */","\tpublic function Main() {","","\t\t// application dependancys","\t\trequire_once( '/bin/FileUpload.php' );","\t\trequire_once( '/bin/FileUploadValidation.php' );","\t\t","\t}","","\t/**","\t * Routing of incoming file transfer.","\t * @access public","\t */","\tpublic function init() {","\t\t","\t\tif ( $_FILES ) {","\t\t\t","\t\t\t// accept file transfer","\t\t\t$fileUpload = new FileUpload( array(","\t\t\t\t'fileName' => $_FILES['file']['name'],","\t\t\t\t'fileType' => $_FILES['file']['type'],","\t\t\t\t'fileSizeBytes' => $_FILES['file']['size'],","\t\t\t\t'fileTempName' => $_FILES['file']['tmp_name'],","\t\t\t\t'fileUploadError' => $_FILES['file']['error']","\t\t\t));","\t\t\t","\t\t\t$fileUpload->handleFileUpload();","\t\t\t","\t\t\treturn;","\t\t","\t\t} else {","\t\t\t","\t\t\t// decline invalid request","\t\t\techo 'Invalid request type' . '<br/>';","\t\t\t","\t\t\theader( 'HTTP/1.1 400 Bad Request', true, 400 );","\t\t\t","\t\t\treturn;","\t\t\t","\t\t}","\t\t","\t}","\t","}","","/**"," * Start Application"," */","$main = new Main();","\t$main->init();",""]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":5}},"text":"<?php"},{"action":"insertText","range":{"start":{"row":0,"column":5},"end":{"row":1,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":77,"column":0}},"lines":["","class Main {","\t","\tprivate $_file = null;","\t","\t/**","\t * Application.","\t * @return {Object} main","\t * @access public","\t */","\tpublic function Main() {","","\t\t// application dependancys","\t\trequire_once( '/bin/File.php' );","\t\trequire_once( '/bin/FileUpload.php' );","\t\trequire_once( '/bin/FileUploadValidation.php' );","\t\t","\t\t// incoming file","\t\t$this->_file = new File( array(","\t\t\t'fileName' => $_FILES['file']['name'],","\t\t\t'fileType' => $_FILES['file']['type'],","\t\t\t'fileSizeBytes' => $_FILES['file']['size'],","\t\t\t'fileTempName' => $_FILES['file']['tmp_name'],","\t\t\t'fileUploadError' => $_FILES['file']['error']","\t\t));","\t\t","\t}","","\t/**","\t * Routing of incoming file transfer.","\t * @access public","\t */","\tpublic function init() {","\t\t","\t\t","\t\t// accept file transfer","\t\t$fileUpload = new FileUpload( $this->_file );","\t\t","\t\t$returnUi = $fileUpload->handleFileUpload();","\t\t","\t\tif ( !$returnUi ) {","\t\t\t","\t\t\t// file upload failed","\t\t\techo 'Failed file upload' . '<br/>';","\t\t\t","\t\t\theader( 'HTTP/1.1 400 Bad Request', true, 400 );","\t\t\t","\t\t}","\t\t","\t\t// process successful return UI","\t\techo $returnUi;","\t\t","\t}","\t","}","","/**"," * Start Application"," */","if ( !$_FILES ) {","\t\t","\t// decline invalid request","\techo 'Invalid request type' . '<br/>';","","\theader( 'HTTP/1.1 400 Bad Request', true, 400 );","","\treturn false;","\t","} else {","","\t// bring the noise!","\t$main = new Main();","\t\t$main->init();","\t","}",""]},{"action":"insertText","range":{"start":{"row":77,"column":0},"end":{"row":77,"column":2}},"text":"?>"}]}]]},"ace":{"folds":[],"scrolltop":354,"scrollleft":0,"selection":{"start":{"row":77,"column":2},"end":{"row":77,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":36,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1408096318310,"hash":"ed9575167ba03151b565393039793a931b8b9495"}